{"version":3,"sources":["components/Navigation/Navigation.jsx","components/ProductsList/ProductsList.jsx","components/Basket/Basket.jsx","App.jsx","customHooks/useLocaleStorage.jsx","index.jsx"],"names":["Navigation","className","activeClassName","to","exact","ProductsList","addProduct","productsList","map","product","name","label","price","type","onClick","id","Basket","storageProd","remove","removeAll","clearBasket","useState","basketList","setBasketList","totalPrice","reduce","acc","curr","useEffect","array","basketObj","curValue","Object","entries","basketListCreator","length","basketItem","Math","random","App","JSON","parse","localStorage","getItem","addedProducts","setAddedProducts","key","initialValue","storedValue","setValue","value","setItem","stringify","useLocaleStorage","setStorageProd","path","productId","find","item","productName","index","findIndex","prevState","slice","filter","prod","clear","ReactDOM","render","document","getElementById"],"mappings":"gRAGaA,EAAa,kBACxB,sBAAKC,UAAU,MAAf,UACE,cAAC,IAAD,CACEA,UAAU,YACVC,gBAAgB,oBAChBC,GAAG,IACHC,OAAK,EAJP,kBAQA,cAAC,IAAD,CACEH,UAAU,YACVC,gBAAgB,oBAChBC,GAAG,UACHC,OAAK,EAJP,wBCRSC,G,MAAe,SAAC,GAAD,IAAGC,EAAH,EAAGA,WAAYC,EAAf,EAAeA,aAAf,OAC1B,oBAAIN,UAAU,WAAd,SAEIM,EAAaC,KAAI,SAAAC,GAAO,OACtB,qBAAqBR,UAAU,iBAA/B,UACE,oBAAIA,UAAU,iBAAd,SAAgCQ,EAAQC,OACxC,mBAAGT,UAAU,wBAAb,SAAsCQ,EAAQE,QAC9C,oBAAGV,UAAU,kBAAb,UACGQ,EAAQG,MADX,WAIA,wBACEX,UAAU,mBACVY,KAAK,SACLC,QAAS,WACPR,EAAWG,EAAQM,KAJvB,mBAPON,EAAQM,W,gBCJZC,G,MAAS,SAAC,GAOjB,IALFC,EAKC,EALDA,YACAC,EAIC,EAJDA,OACAC,EAGC,EAHDA,UACAC,EAEC,EAFDA,YAEC,EACiCC,mBAAS,IAD1C,mBACIC,EADJ,KACgBC,EADhB,KAGGC,EAAaP,EAAYQ,QAAO,SAACC,EAAKC,GAAN,OAAgBD,EAAMC,EAAKf,QAAQ,GAmBzE,OAJAgB,qBAAU,YAbgB,SAACC,GACzB,IAAMC,EAAYD,EAAMJ,QAAO,SAACC,EAAKK,GAAN,OAC7BL,EAAIK,EAASrB,MAAb,2BAEOgB,GAFP,kBAEaK,EAASrB,KAAOgB,EAAIK,EAASrB,MAAQ,IAFlD,2BAKOgB,GALP,kBAKaK,EAASrB,KAAO,MACvB,IAERa,EAAcS,OAAOC,QAAQH,IAI7BI,CAAkBjB,KACjB,CAACA,IAGF,sBAAKhB,UAAU,SAAf,UAE0B,IAAtBqB,EAAWa,OACP,oBAAIlC,UAAU,iBAAd,kCAEA,qCACE,oBAAIA,UAAU,eAAd,SAEIqB,EAAWd,KAAI,SAAA4B,GAAU,OACvB,qBAAwBnC,UAAU,eAAlC,UACE,qBAAIA,UAAU,kBAAd,UACGmC,EAAW,GACX,IAFH,IAIE,sBAAMnC,UAAU,yBAAhB,SACGmC,EAAW,QAGhB,sBAAKnC,UAAU,yBAAf,UACE,wBACEY,KAAK,SACLC,QAAS,WACPI,EAAOkB,EAAW,KAEpBnC,UAAU,iBALZ,oBASA,wBACEY,KAAK,SACLC,QAAS,WACPK,EAAUiB,EAAW,KAEvBnC,UAAU,iBALZ,6BAnBKoC,KAAKC,eAiCpB,wBACEzB,KAAK,SACLC,QAASM,EACTnB,UAAU,iBAHZ,6BAUPuB,EAAa,GACZ,8CAEGA,EAFH,eChFFjB,G,MAAe,CACnB,CACEQ,GAAI,EACJL,KAAM,YAENC,MAAO,6HACPC,MAAO,IAET,CACEG,GAAI,EACJL,KAAM,YAENC,MAAO,8HACPC,MAAO,IAET,CACEG,GAAI,EACJL,KAAM,YAENC,MAAO,8HACPC,MAAO,MAyEI2B,EArEH,WAAO,IAAD,EAC0BlB,mBACxCmB,KAAKC,MAAMC,aAAaC,QAAQ,UAAY,IAF9B,mBACTC,EADS,KACMC,EADN,OC9Bc,SAACC,EAAKC,GAAkB,IAAD,EACrB1B,oBAAS,WACvC,IACE,OAAOmB,KAAKC,MAAMC,aAAaC,QAAQG,KAASC,EAChD,SACA,OAAOA,MAL0C,mBAC9CC,EAD8C,KACjCC,EADiC,KAcrD,MAAO,CAACD,EALK,SAACE,GACZD,EAASC,GACTR,aAAaS,QAAQL,EAAKN,KAAKY,UAAUF,MDuBLG,CAAiB,OAAQ,IAJ/C,mBAITpC,EAJS,KAIIqC,EAJJ,KAyChB,OAJA1B,qBAAU,WACR0B,EAAeV,KACd,CAACA,EAAe3B,EAAaqC,IAG9B,qCACE,wBAAQrD,UAAU,SAAlB,SACE,cAAC,EAAD,MAEF,sBAAMA,UAAU,OAAhB,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOsD,KAAK,IAAInD,OAAK,EAArB,SACE,cAAC,EAAD,CACEG,aAAcA,EACdD,WA7CO,SAACkD,GAClB,IAAM/C,EAAUF,EAAakD,MAAK,SAAAC,GAAI,OAAIA,EAAK3C,KAAOyC,KAEtDX,EAAiB,GAAD,mBAAKD,GAAL,CAAoBnC,UA6C9B,cAAC,IAAD,CAAO8C,KAAK,UAAZ,SACE,cAAC,EAAD,CACEtC,YAAaA,EACb2B,cAAeA,EACf1B,OA9CG,SAACyC,GACd,IAAMC,EAAQhB,EACXiB,WAAU,SAAApD,GAAO,OAAIA,EAAQC,OAASiD,KAErCC,GAAS,GACXf,GAAiB,SAAAiB,GAAS,4BAEnBA,EAAUC,MAAM,EAAGH,IAFA,YAGnBE,EAAUC,MAAMH,EAAQ,SAuCvBzC,UAjCM,SAACwC,GACjBd,GAAiB,SAAAiB,GAAS,OACxBA,EAAUE,QAAO,SAAAC,GAAI,OAAIA,EAAKvD,OAASiD,SAgC/BvC,YA5BQ,WAClByB,EAAiB,IACjBH,aAAawB,sBE5DjBC,IAASC,OACP,cAAC,IAAD,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.11db76b0.chunk.js","sourcesContent":["import React from 'react';\nimport { NavLink } from 'react-router-dom';\n\nexport const Navigation = () => (\n  <nav className=\"nav\">\n    <NavLink\n      className=\"nav__link\"\n      activeClassName=\"nav__link--active\"\n      to=\"/\"\n      exact\n    >\n      Home\n    </NavLink>\n    <NavLink\n      className=\"nav__link\"\n      activeClassName=\"nav__link--active\"\n      to=\"/basket\"\n      exact\n    >\n      Basket\n    </NavLink>\n  </nav>\n);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './productsList.scss';\n\nexport const ProductsList = ({ addProduct, productsList }) => (\n  <ul className=\"products\">\n    {\n      productsList.map(product => (\n        <li key={product.id} className=\"products__item\">\n          <h2 className=\"products__name\">{product.name}</h2>\n          <p className=\"products__description\">{product.label}</p>\n          <p className=\"products__price\">\n            {product.price}\n            .00 $\n          </p>\n          <button\n            className=\"products__button\"\n            type=\"button\"\n            onClick={() => {\n              addProduct(product.id);\n            }}\n          >\n            Add\n          </button>\n        </li>\n      ))\n    }\n  </ul>\n);\n\nProductsList.propTypes = {\n  addProduct: PropTypes.func.isRequired,\n  productsList: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      name: PropTypes.string.isRequired,\n      label: PropTypes.string.isRequired,\n      price: PropTypes.number.isRequired,\n    }).isRequired,\n  ).isRequired,\n};\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './basket.scss';\n\nexport const Basket = (\n  {\n    storageProd,\n    remove,\n    removeAll,\n    clearBasket,\n  },\n) => {\n  const [basketList, setBasketList] = useState([]);\n\n  const totalPrice = storageProd.reduce((acc, curr) => (acc + curr.price), 0);\n\n  const basketListCreator = (array) => {\n    const basketObj = array.reduce((acc, curValue) => (\n      acc[curValue.name]\n        ? {\n          ...acc, [curValue.name]: acc[curValue.name] + 1,\n        }\n        : {\n          ...acc, [curValue.name]: 1,\n        }), {});\n\n    setBasketList(Object.entries(basketObj));\n  };\n\n  useEffect(() => {\n    basketListCreator(storageProd);\n  }, [storageProd]);\n\n  return (\n    <div className=\"basket\">\n      {\n        basketList.length === 0\n          ? <h2 className=\"basket__header\">Your basket is empty</h2>\n          : (\n            <>\n              <ul className=\"basket__list\">\n                {\n                  basketList.map(basketItem => (\n                    <li key={Math.random()} className=\"basket__item\">\n                      <h2 className=\"basket__product\">\n                        {basketItem[0]}\n                        {' '}\n                        -\n                        <span className=\"basket__product-amount\">\n                          {basketItem[1]}\n                        </span>\n                      </h2>\n                      <div className=\"basket__button-wrapper\">\n                        <button\n                          type=\"button\"\n                          onClick={() => {\n                            remove(basketItem[0]);\n                          }}\n                          className=\"basket__button\"\n                        >\n                          Remove\n                        </button>\n                        <button\n                          type=\"button\"\n                          onClick={() => {\n                            removeAll(basketItem[0]);\n                          }}\n                          className=\"basket__button\"\n                        >\n                          Remove All\n                        </button>\n                      </div>\n                    </li>\n                  ))\n                }\n              </ul>\n              <button\n                type=\"button\"\n                onClick={clearBasket}\n                className=\"basket__button\"\n              >\n                Clear basket\n              </button>\n            </>\n          )\n      }\n      {totalPrice > 0 && (\n        <h2>\n          Total price:\n          {totalPrice}\n          .00$\n        </h2>\n      )}\n    </div>\n  );\n};\n\nBasket.propTypes = {\n  storageProd: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      name: PropTypes.string.isRequired,\n      label: PropTypes.string.isRequired,\n      price: PropTypes.number.isRequired,\n    }).isRequired,\n  ).isRequired,\n  remove: PropTypes.func.isRequired,\n  removeAll: PropTypes.func.isRequired,\n  clearBasket: PropTypes.func.isRequired,\n};\n","import React, { useEffect, useState } from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport { useLocaleStorage } from './customHooks/useLocaleStorage';\nimport { Navigation } from './components/Navigation';\nimport { ProductsList } from './components/ProductsList';\nimport { Basket } from './components/Basket';\nimport './App.scss';\n\nconst productsList = [\n  {\n    id: 1,\n    name: 'article 1',\n    // eslint-disable-next-line max-len\n    label: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit,sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.',\n    price: 25,\n  },\n  {\n    id: 2,\n    name: 'article 2',\n    // eslint-disable-next-line max-len\n    label: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.',\n    price: 35,\n  },\n  {\n    id: 3,\n    name: 'article 3',\n    // eslint-disable-next-line max-len\n    label: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.',\n    price: 45,\n  },\n];\n\nconst App = () => {\n  const [addedProducts, setAddedProducts] = useState(\n    JSON.parse(localStorage.getItem('data')) || [],\n  );\n  const [storageProd, setStorageProd] = useLocaleStorage('data', []);\n\n  const addProduct = (productId) => {\n    const product = productsList.find(item => item.id === productId);\n\n    setAddedProducts([...addedProducts, product]);\n  };\n\n  const remove = (productName) => {\n    const index = addedProducts\n      .findIndex(product => product.name === productName);\n\n    if (index >= 0) {\n      setAddedProducts(prevState => (\n        [\n          ...prevState.slice(0, index),\n          ...prevState.slice(index + 1),\n        ]\n      ));\n    }\n  };\n\n  const removeAll = (productName) => {\n    setAddedProducts(prevState => (\n      prevState.filter(prod => prod.name !== productName)\n    ));\n  };\n\n  const clearBasket = () => {\n    setAddedProducts([]);\n    localStorage.clear();\n  };\n\n  useEffect(() => {\n    setStorageProd(addedProducts);\n  }, [addedProducts, storageProd, setStorageProd]);\n\n  return (\n    <>\n      <header className=\"header\">\n        <Navigation />\n      </header>\n      <main className=\"main\">\n        <Switch>\n          <Route path=\"/\" exact>\n            <ProductsList\n              productsList={productsList}\n              addProduct={addProduct}\n            />\n          </Route>\n          <Route path=\"/basket\">\n            <Basket\n              storageProd={storageProd}\n              addedProducts={addedProducts}\n              remove={remove}\n              removeAll={removeAll}\n              clearBasket={clearBasket}\n            />\n          </Route>\n        </Switch>\n      </main>\n    </>\n  );\n};\n\nexport default App;\n","import { useState } from 'react';\n\nexport const useLocaleStorage = (key, initialValue) => {\n  const [storedValue, setValue] = useState(() => {\n    try {\n      return JSON.parse(localStorage.getItem(key)) || initialValue;\n    } catch {\n      return initialValue;\n    }\n  });\n\n  const save = (value) => {\n    setValue(value);\n    localStorage.setItem(key, JSON.stringify(value));\n  };\n\n  return [storedValue, save];\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}