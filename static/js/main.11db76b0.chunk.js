(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{28:function(e,t,c){},34:function(e,t,c){},35:function(e,t,c){},36:function(e,t,c){},37:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c(0),s=c(21),r=c.n(s),i=c(9),o=(c(28),c(15)),l=c(7),u=c(2),d=function(){return Object(a.jsxs)("nav",{className:"nav",children:[Object(a.jsx)(i.b,{className:"nav__link",activeClassName:"nav__link--active",to:"/",exact:!0,children:"Home"}),Object(a.jsx)(i.b,{className:"nav__link",activeClassName:"nav__link--active",to:"/basket",exact:!0,children:"Basket"})]})},b=(c(34),function(e){var t=e.addProduct,c=e.productsList;return Object(a.jsx)("ul",{className:"products",children:c.map((function(e){return Object(a.jsxs)("li",{className:"products__item",children:[Object(a.jsx)("h2",{className:"products__name",children:e.name}),Object(a.jsx)("p",{className:"products__description",children:e.label}),Object(a.jsxs)("p",{className:"products__price",children:[e.price,".00 $"]}),Object(a.jsx)("button",{className:"products__button",type:"button",onClick:function(){t(e.id)},children:"Add"})]},e.id)}))})}),j=c(12),m=c(13),O=(c(35),function(e){var t=e.storageProd,c=e.remove,s=e.removeAll,r=e.clearBasket,i=Object(n.useState)([]),o=Object(l.a)(i,2),u=o[0],d=o[1],b=t.reduce((function(e,t){return e+t.price}),0);return Object(n.useEffect)((function(){!function(e){var t=e.reduce((function(e,t){return e[t.name]?Object(m.a)(Object(m.a)({},e),{},Object(j.a)({},t.name,e[t.name]+1)):Object(m.a)(Object(m.a)({},e),{},Object(j.a)({},t.name,1))}),{});d(Object.entries(t))}(t)}),[t]),Object(a.jsxs)("div",{className:"basket",children:[0===u.length?Object(a.jsx)("h2",{className:"basket__header",children:"Your basket is empty"}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("ul",{className:"basket__list",children:u.map((function(e){return Object(a.jsxs)("li",{className:"basket__item",children:[Object(a.jsxs)("h2",{className:"basket__product",children:[e[0]," ","-",Object(a.jsx)("span",{className:"basket__product-amount",children:e[1]})]}),Object(a.jsxs)("div",{className:"basket__button-wrapper",children:[Object(a.jsx)("button",{type:"button",onClick:function(){c(e[0])},className:"basket__button",children:"Remove"}),Object(a.jsx)("button",{type:"button",onClick:function(){s(e[0])},className:"basket__button",children:"Remove All"})]})]},Math.random())}))}),Object(a.jsx)("button",{type:"button",onClick:r,className:"basket__button",children:"Clear basket"})]}),b>0&&Object(a.jsxs)("h2",{children:["Total price:",b,".00$"]})]})}),p=(c(36),[{id:1,name:"article 1",label:"Lorem ipsum dolor sit amet, consectetur adipiscing elit,sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",price:25},{id:2,name:"article 2",label:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",price:35},{id:3,name:"article 3",label:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",price:45}]),h=function(){var e=Object(n.useState)(JSON.parse(localStorage.getItem("data"))||[]),t=Object(l.a)(e,2),c=t[0],s=t[1],r=function(e,t){var c=Object(n.useState)((function(){try{return JSON.parse(localStorage.getItem(e))||t}catch(c){return t}})),a=Object(l.a)(c,2),s=a[0],r=a[1];return[s,function(t){r(t),localStorage.setItem(e,JSON.stringify(t))}]}("data",[]),i=Object(l.a)(r,2),j=i[0],m=i[1];return Object(n.useEffect)((function(){m(c)}),[c,j,m]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("header",{className:"header",children:Object(a.jsx)(d,{})}),Object(a.jsx)("main",{className:"main",children:Object(a.jsxs)(u.c,{children:[Object(a.jsx)(u.a,{path:"/",exact:!0,children:Object(a.jsx)(b,{productsList:p,addProduct:function(e){var t=p.find((function(t){return t.id===e}));s([].concat(Object(o.a)(c),[t]))}})}),Object(a.jsx)(u.a,{path:"/basket",children:Object(a.jsx)(O,{storageProd:j,addedProducts:c,remove:function(e){var t=c.findIndex((function(t){return t.name===e}));t>=0&&s((function(e){return[].concat(Object(o.a)(e.slice(0,t)),Object(o.a)(e.slice(t+1)))}))},removeAll:function(e){s((function(t){return t.filter((function(t){return t.name!==e}))}))},clearBasket:function(){s([]),localStorage.clear()}})})]})})]})};r.a.render(Object(a.jsx)(i.a,{children:Object(a.jsx)(h,{})}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.11db76b0.chunk.js.map